<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>图片分析记录</title>
	<link rel="stylesheet" href="{{url_for('static',filename ='/css/font-awesome.css')}}">
	<link rel="stylesheet" href="{{url_for('static',filename ='css/echart.css')}}">
    <script src="{{url_for('static',filename ='js/echarts.js')}}"></script>
  </head>
  <body>
	  <div class="echart-buttons">
	  	<a class="back-btn btn" href="/">返回首页<i class="fas fa-angle-double-left"></i></a>
	  </div>
	  <form action="" method='POST'>
		<div class="echart-buttons"><a id="echart-btn1" class="btn">
			<input type="submit" name="clear" value="清空记录" />
			<i class="fas fa-broom"></i>
		</a></div>
	  </form>
    <div id="main"></div>
    <script type="text/javascript">
      var myChart = echarts.init(document.getElementById('main'),'dark');
	  
	  var inf=Infinity;
      // 指定图表的配置项和数据
      var option = {
		  title: {
		    text: '最近10次图片相似分析的记录',
		    left: 'center',
			fontSize: '30px',
			fontWeight: 'bold'
		  },
		  grid: {
			left: '3%',
			right: '4%',
			bottom: '3%',
			containLabel: true
		  },
		  legend: {
			left: 'left'
		  },
		  xAxis: {
			data: [1,2,3,4,5,6,7,8,9,10]
		  },
		  yAxis: {
			  min: {{minYAxis}},
			  max: {{maxYAxis}}
		  },
		  series: [
			{
			  name: 'PSNR',
			  data: {{psnrData}},
			  type: 'line',
			  stack: 'x',
			  itemStyle:{
				  normal:{
					  label:{
						  show:true
					  }
				  }
			  }
			},
			{
			  name: 'SSIM',
			  data: {{ssimData}},
			  type: 'line',
			  stack: 'x',
			  itemStyle:{
				  normal:{
					  label:{
						  show:true
					  }
				  }
			  }
			}
		  ]
		};

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
    </script>
	
  </body>
</html>